- shared_ptr повсюду, все указывают друг на друга. Надо проработать на счёт утечек памяти
